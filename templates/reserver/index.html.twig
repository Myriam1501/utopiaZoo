{% extends 'base.html.twig' %}

{% block title %}Préparer sa Visite {% endblock %}

{% block body %}
    <style>

        .ok10 {
            width: 166px;
            height: 250px;
            border-radius: 5%;
            box-shadow: 0 20px 20px rgba(0, 0, 0, 0.3);
            margin-right: 25px;
        }


        .contenantpresentation {
            display: flex;
            flex-direction: row;
            justify-content: center;
            width: 1100px;
        }

        .presentation2 {
            display: flex;
            flex-direction: row;
            justify-content: center;

            text-align: center;
            width: 1137px;
            height: 300px;
            border-radius: 50px;
            box-shadow: 0 20px 20px rgba(0, 0, 0, 0.3);
            margin: 100px;

        }

        p {
            text-align: center;
        }
        .activitee6 {
            margin-left: 30px;
            margin-right: 30px;
        }

.dashboard-order {
    width: 340px;
    height: 45%;
    right: 0;
    padding-right: 1%;
    background-color: white;
    z-index: 3;
    font-size: 13px;
    position: sticky;
    top: 149px;
    float: right;
}
    </style>
<div class="dashboard-order ">


        <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">Your cart</span>
            <span class="badge badge-secondary badge-pill">3</span>
        </h4>
        {% if session is defined %}
        <ul class="list-group mb-3">
            <li class="list-group-item d-flex justify-content-between lh-condensed">
                {% for programmes in programmes %}
                    {% if session.get(programmes.getTitle())!=null %}
                <h6 class="my-0"> {{ programmes.getTitle() }} </h6>
                <span class="text-muted">qté : {{ session.get(programmes.getTitle()) }}</span>
            </li>
                    {% endif %}
                {% endfor %}

            {% if promotion is defined %}
                {% if session.get(promotion)!=null %}
                    <li class="list-group-item d-flex justify-content-between bg-light">
                        <div class="text-success">
                            <h6 class="my-0">Promo code</h6>
                            <small>EXAMPLECODE</small>
                        </div>
                        <span class="text-success">-$5</span>
                    </li>
                {% endif %}
            {% endif %}
            <li class="list-group-item d-flex justify-content-between">
                <button type="button" class="btn btn-secondary"><a href="{{ path('app_reserver_vider') }}" style="text-decoration: none; color: white">Vider</a></button>
                <button type="button" class="btn btn-success"><a href="{{ path('app_reserver_acheter') }}" style="text-decoration: none; color: white">Acheter</a></button>
            </li>
        </ul>

        <form action="{{ path('app_reserver_add_promotion') }}" class="card p-2">
            <div class="input-group">
                <input type="text" id="promo" name="promo"  class="form-control"  placeholder="Promo code">
                <br>
                <div class="input-group-append">
                <input type="submit" class="btn btn-secondary" value="Submit">
                </div>
            </div>
        </form>


    {% else %}
    <div class="order-wrapper">Panier vide.</div>
    {% endif %}
</div></div>
        {% for programmes in programmes %}
            <div class="contenantpresentation">
                <div class="presentation2">
                    <div class="activitee6">
                        <br>
                        <h3>{{ programmes.getTitle() }}</h3>
                        <hr>
                        <div class="container text-center">
                            <div class="row">

                                <div class="col">
                                    age min : {{ programmes.getAgeMin() }}

                                </div>
                                <div class="col">
                                    prix : {{ programmes.getPrice() }}

                                </div>
                                <div class="col">
                                    prix réduit (-12ans) {{ programmes.getPriceReduce() }}
                                </div>
                                <div class="col">
                                    <label for="cc-expiration">Quantité : </label>
                                    <input type="text" name="quantite" id="inputquantite" class="form-control" autocomplete="Quantité de Ticket" required>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <p><i>
                                {{ programmes.getDescriptionProgram() }}
                            </i></p>
                        <div class="cart_btn">
                            <a href="{{ path('app_reserver_add', {'program':programmes.id}) }}"><button type="button" class="btn btn-outline-success">Ajouter au panier</button></a>
                        </div>
                        <div class="cart_btn">
                            <a href="{{ path('app_reserver_dell', {'program':programmes.id}) }}"><button type="button" class="btn btn-outline-success">Supprimer du panier</button></a>
                        </div>
                    </div>
                    <div class="activitee5">
                        <br>
                        <img class="ok10" src="{{ programmes.getPictureDecoPath() }}">
                    </div>
                </div>

            </div>

        {%endfor%}
    </form>
{% endblock %}